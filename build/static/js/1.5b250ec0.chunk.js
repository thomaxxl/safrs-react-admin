(this["webpackJsonpreact-apilogicserver"]=this["webpackJsonpreact-apilogicserver"]||[]).push([[1],{757:function(e,t,n){"use strict";n.r(t),n.d(t,"UserPasswordTab",(function(){return v})),n.d(t,"CreateUser",(function(){return P})),n.d(t,"ApiGenerateField",(function(){return le})),n.d(t,"ApiShow",(function(){return je})),n.d(t,"DBConnection",(function(){return be})),n.d(t,"ApiURL",(function(){return ue})),n.d(t,"MyComp",(function(){return j})),n.d(t,"SampleColumnField",(function(){return Oe})),n.d(t,"EmployeeLabel",(function(){return me})),n.d(t,"CustomerLabel",(function(){return xe})),n.d(t,"UserPasswordField",(function(){return he})),n.d(t,"CustomTab",(function(){return pe}));var a=n(0),c=n(832),i=n(74),r=n(824),s=n(837),o=n(123),l=n(3),j=function(e){return Object(l.jsx)("div",{children:"HMMMM"})},d=n(9),b=n(344),u=n(891),O=n(1292),m=n(892),x=n(105),h=n(427),p=n(38),g=n(196),v=function(){var e=Object(p.c)(),t=Object(g.a)(),n=Object(o.b)(),r=(Object(x.a)(),Object(a.useState)("")),s=Object(d.a)(r,2),j=s[0],v=s[1],f=Object(a.useState)(""),C=Object(d.a)(f,2),y=C[0],w=C[1],S=Object(a.useState)(""),N=Object(d.a)(S,2),P=N[0],_=N[1];return Object(l.jsx)(u.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(i.a,{variant:"body2",component:"p",children:Object(l.jsx)("b",{children:"Change the user password"})})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(O.a,{id:"outlined-password-input",label:"New Password",type:"password",onChange:function(e){var t=e.target.value;v(t),_(t===y&&t.length>5?"primary":""),console.log(t,y)}})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(O.a,{id:"outlined-password-input",label:"Repeat Password",type:"password",onChange:function(e){var t=e.target.value;w(t),_(j===t&&j.length>5?"primary":""),console.log(j,t)}})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(b.a,{variant:"contained",color:P,onClick:function(){if(console.log(y),j===y)if(j.length<6)t("Password too short",{type:"warning"});else{var a={password:j};Object(h.a)("".concat(e.api_root,"/Users/").concat(n.id,"/change_password"),{method:"POST",body:JSON.stringify(a)}).then((function(){return t("Password Changed!")})).catch((function(){return t("Error Changing Password",{type:"warning"})}))}else t("Passwords don't match",{type:"warning"})},children:"Submit"})})]})})},f=n(19),C=n(5),y=n(881),w=n(873),S=n(484),N=(n(330),["resource_name"]),P=function(e){var t=e.resource_name,n=Object(C.a)(e,N),a=Object(p.c)().resources[t];return Object(l.jsx)(y.a,Object(f.a)(Object(f.a)({},n),{},{children:Object(l.jsx)(w.a,{children:Object(l.jsxs)(c.a,{container:!0,spacing:3,margin:5,m:400,style:{width:"40%"},children:[a.attributes.map((function(e){return Object(l.jsxs)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:[" ",Object(l.jsx)(S.a,{source:e.name,fullWidth:!0})," "]})})),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(s.a,{label:"Password",defaultValue:"",fullWidth:!0,inputProps:{autocomplete:"current-password"}})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(s.a,{label:"Repeat Password",defaultValue:"",fullWidth:!0,inputProps:{autocomplete:"current-password"}})})]})})}))},_=n(6),k=n(346),F=n(870),A=n(495),M=n(124),T=n(1125),L=n.n(T),R=n(453),U=n(51),q=n(1289),D=n(1293),V=n(1295),B=n(860),E=n(1288),I=n(1287),W=n(885),J=n(862),Q=n(493),G=n(743),Y=n(503),Z=n(731),z=n(1290),H=n(1294),$=["label","input","meta"],K=["input"],X=["input","label","meta","children"],ee=function(e){var t=e.label,n=e.input,a=e.meta,c=a.touched,i=a.invalid,r=a.error,s=Object(C.a)(e,$);return Object(l.jsx)(A.a,Object(f.a)(Object(f.a)({label:t,placeholder:t,error:c&&i,helperText:c&&r},n),s))},te=function(e){var t=e.input,n=e.label;return Object(l.jsx)("div",{children:Object(l.jsx)(J.a,{control:Object(l.jsx)(W.a,{checked:!!t.value,onChange:t.onChange}),label:n})})},ne=function(e){var t=e.input,n=Object(C.a)(e,K);return Object(l.jsx)(Q.a,{children:Object(l.jsxs)(H.a,Object(f.a)(Object(f.a)(Object(f.a)({},t),n),{},{children:[Object(l.jsx)(J.a,{value:"female",control:Object(l.jsx)(z.a,{}),label:"Female"}),Object(l.jsx)(J.a,{value:"male",control:Object(l.jsx)(z.a,{}),label:"Male"}),Object(l.jsx)(J.a,{value:"other",control:Object(l.jsx)(z.a,{}),label:"Other"})]}))})},ae=function(e){var t=e.touched,n=e.error;return t&&n?Object(l.jsx)(Z.a,{children:t&&n}):void 0},ce=function(e){var t=e.input,n=(e.label,e.meta),a=n.touched,c=n.error,i=e.children,r=Object(C.a)(e,X);return Object(l.jsxs)(Q.a,{error:a&&c,children:[Object(l.jsx)(Y.a,{htmlFor:"age-native-simple",children:"Age"}),Object(l.jsx)(G.a,Object(f.a)(Object(f.a)(Object(f.a)({native:!0},t),r),{},{inputProps:{name:"age",id:"age-native-simple"},children:i})),ae({touched:a,error:c})]})},ie=(Object(I.a)({form:"MaterialUiForm",validate:function(e){var t={};return["firstName","lastName","email","favoriteColor","notes"].forEach((function(n){e[n]||(t[n]="Required")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t}})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.reset,c=e.submitting,i=e.classes;return Object(l.jsxs)("form",{onSubmit:t,children:[Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{name:"firstName",component:ee,label:"First Name"})}),Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{name:"lastName",component:ee,label:"Last Name"})}),Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{name:"email",component:ee,label:"Email"})}),Object(l.jsx)("div",{children:Object(l.jsxs)(E.a,{name:"sex",component:ne,children:[Object(l.jsx)(z.a,{value:"male",label:"male"}),Object(l.jsx)(z.a,{value:"female",label:"female"})]})}),Object(l.jsx)("div",{children:Object(l.jsxs)(E.a,{classes:i,name:"favoriteColor",component:ce,label:"Favorite Color",children:[Object(l.jsx)("option",{value:""}),Object(l.jsx)("option",{value:"ff0000",children:"Red"}),Object(l.jsx)("option",{value:"00ff00",children:"Green"}),Object(l.jsx)("option",{value:"0000ff",children:"Blue"})]})}),Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{name:"employed",component:te,label:"Employed"})}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{children:Object(l.jsx)(E.a,{name:"notes",component:ee,label:"Notes",multiline:!0,rowsMax:"4",margin:"normal"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{type:"submit",disabled:n||c,children:"Submit"}),Object(l.jsx)("button",{type:"button",disabled:n||c,onClick:a,children:"Clear Values"})]})]})})),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",bgcolor:"background.paper",border:"0px solid #000",boxShadow:24,p:4,textAlign:"left"}),re=Object(M.a)({joined_field:{cursor:"pointer",color:"#3f51b5"},modalStyle:Object(_.a)({position:"absolute",top:"10%",left:"10%",overflow:"scroll",height:"100%",display:"block",fontWeight:"0.6em"},"display","flex"),db_btn:{height:"80%",position:"relative",top:"50%","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)",transform:"translateY(-50%)"},db_grid:{"& .MuiTextField-root":{borderBottom:"4px solid white",paddingBottom:"1em",paddingRight:"1em"}},actions:{textAlign:"center","& button":{width:"99%"}},conn_str:{backgroundColor:"#ccc",fontFamily:"Consolas"}}),se=function(e,t,n){var a={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("auth_token"))},body:JSON.stringify(t||{})},c=Object.assign(a,n||{});return fetch(e,c)},oe=function(e){var t=Object(p.c)(),n=a.useState(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],o=a.useState(""),j=Object(d.a)(o,2),u=j[0],O=j[1],m=a.useState(ie),x=Object(d.a)(m,2),h=x[0],g=x[1],v=e.record,f=re();return Object(l.jsxs)("span",{children:[Object(l.jsx)("span",{onClick:function(e){s(!0),e.stopPropagation()},className:f.joined_field,title:" Relationship",children:Object(l.jsx)(L.a,{})}),Object(l.jsx)(k.a,{className:f.modalStyle,open:r,onClose:function(e){e.stopPropagation(),s(!1)},onClick:function(e){return e.stopPropagation()},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(F.a,{sx:h,children:[Object(l.jsx)(i.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Create API"}),"Pressing the button will generate an API with the following properties:",Object(l.jsxs)("dl",{children:[Object(l.jsx)("dt",{children:"Name:"}),Object(l.jsx)("dd",{children:null===v||void 0===v?void 0:v.name}),Object(l.jsx)("dt",{children:"Database URL:"}),Object(l.jsx)("dd",{children:null===v||void 0===v?void 0:v.connection_string}),Object(l.jsx)("dt",{children:"Port:"}),Object(l.jsx)("dd",{children:null===v||void 0===v?void 0:v.port}),Object(l.jsx)("dt",{children:"Hostname:"}),Object(l.jsx)("dd",{children:null===v||void 0===v?void 0:v.hostname})]}),Object(l.jsxs)(b.a,{variant:"outlined",onClick:function(){return function(e){var n="".concat(t.api_root,"/Apis/").concat(e.id,"/generate");O(Object(l.jsx)(R.a,{})),h.top="90%",g(h),se(n).then((function(e){return e.json()})).then((function(e){O(Object(l.jsx)("pre",{children:e}))}))}(v)},children:[" Start ",Object(l.jsx)(L.a,{})," "]}),Object(l.jsx)("hr",{}),u]})})]})},le=function(e){return"list"===e.mode?Object(l.jsx)(oe,Object(f.a)({},e)):Object(l.jsx)(l.Fragment,{})},je=function(e){var t=Object(o.b)();return console.log(t),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{children:"xxxx"}),e.show]})},de=function(e){console.log(e);var t=Object(U.e)(),n=Object(o.b)(),r=n?n.connection_string:"",s=re(),j=a.useState(!1),u=Object(d.a)(j,2),O=u[0],x=u[1],h=a.useState(ie),g=Object(d.a)(h,2),v=g[0],f=(g[1],a.useState(r)),C=Object(d.a)(f,2),y=C[0],w=C[1],N=a.useState("user"),P=Object(d.a)(N,2),_=P[0],M=P[1],T=a.useState("pass"),L=Object(d.a)(T,2),E=L[0],I=L[1],W=a.useState("dbhost"),J=Object(d.a)(W,2),Q=J[0],G=J[1],Y=a.useState("dbname"),Z=Object(d.a)(Y,2),z=Z[0],H=Z[1],$=a.useState("Other"),K=Object(d.a)($,2),X=K[0],ee=K[1],te=a.useState(""),ne=Object(d.a)(te,2),ae=ne[0],ce=ne[1],oe=Object(p.c)(),le=function(){var e="".concat(X,"://");return"Other"===X?e=y:e+="sqlite"===X?"/".concat(z):"".concat(_,":").concat(E,"@").concat(Q,"/").concat(z),e};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5}),Object(l.jsx)(c.a,{item:!0,xs:4,spacing:4,margin:5,children:Object(l.jsx)(S.a,{source:"connection_string",initialValue:le(),helperText:"SQLAlchemy connection string syntax",fullWidth:!0})}),Object(l.jsx)(c.a,{item:!0,xs:4,spacing:4,margin:5,children:Object(l.jsx)(b.a,{variant:"outlined",onClick:function(){return x(!0)},color:"primary",size:"large",className:s.db_btn,children:"Configure Connection"})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5}),Object(l.jsx)(k.a,{open:O,onClose:function(){return x(!1)},className:s.modalStyle,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(F.a,{sx:v,children:Object(l.jsxs)(c.a,{container:!0,className:s.db_grid,children:[Object(l.jsxs)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:[Object(l.jsx)(i.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Database Configuration"}),Object(l.jsx)("hr",{})]}),Object(l.jsx)(c.a,{item:!0,xs:6,spacing:4,margin:5,children:Object(l.jsxs)(m.a,{children:[Object(l.jsx)(B.a,{id:"demo-radio-buttons-group-label",children:"DB Dialect"}),Object(l.jsxs)(D.a,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"Other",name:"radio-buttons-group",onChange:function(e){ee(e.target.value)},children:[Object(l.jsx)(V.a,{value:"mysql+pymysql",control:Object(l.jsx)(q.a,{}),label:"MySQL"}),Object(l.jsx)(V.a,{value:"oracle",control:Object(l.jsx)(q.a,{}),label:"Oracle"}),Object(l.jsx)(V.a,{value:"postgresql",control:Object(l.jsx)(q.a,{}),label:"Postgres"}),Object(l.jsx)(V.a,{value:"sqlite",control:Object(l.jsx)(q.a,{}),label:"SQLite"}),Object(l.jsx)(V.a,{value:"mssql+pyodbc",control:Object(l.jsx)(q.a,{}),label:"SQLServer"}),Object(l.jsx)(V.a,{value:"Other",control:Object(l.jsx)(q.a,{}),label:"Manual:"})]}),Object(l.jsx)(A.a,{id:"outlined-basic",label:"Manual",variant:"outlined",defaultValue:r,onChange:function(e){return w(e.target.value)},helperText:"Manual connection string configuration"})]})}),Object(l.jsxs)(c.a,{item:!0,xs:6,spacing:4,margin:5,children:[Object(l.jsx)(A.a,{label:"Username",variant:"outlined",onChange:function(e){return M(e.target.value)},value:_}),Object(l.jsx)(A.a,{label:"Password",variant:"outlined",onChange:function(e){return I(e.target.value)},value:E}),Object(l.jsx)(A.a,{label:"Database host",variant:"outlined",onChange:function(e){return G(e.target.value)},value:Q}),Object(l.jsx)(A.a,{label:"Database name",variant:"outlined",onChange:function(e){return H(e.target.value)},value:z})]}),Object(l.jsx)(c.a,{item:!0,xs:6,spacing:4,margin:5,children:Object(l.jsxs)(i.a,{children:["Connection String: ",Object(l.jsx)("span",{className:s.conn_str,children:le()})]})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,className:s.actions,children:Object(l.jsx)("hr",{})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5}),Object(l.jsx)(c.a,{item:!0,xs:2,spacing:4,margin:5,className:s.actions,children:Object(l.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return function(e){var t="".concat(oe.api_root,"/Apis/test_conn");se(t,{connection_string:e}).then((function(e){return e.json()})).then((function(e){ce(Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i.a,{variant:"h6",component:"h2",children:"Result:"}),Object(l.jsx)("pre",{children:e})]}))})).catch((function(e){return alert()}))}(le())},children:" Test Connection"})}),Object(l.jsx)(c.a,{item:!0,xs:2,spacing:4,margin:5,className:s.actions,children:Object(l.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){x(!1),t.change("connection_string",le())},children:"Save & Close"})}),Object(l.jsx)(c.a,{item:!0,xs:2,spacing:4,margin:5,className:s.actions,children:Object(l.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return function(){if(void 0===n.id){var e="you must first save the api";return alert(e),void ce(e)}var t="".concat(oe.api_root,"/Apis/").concat(n.id,"/generate");ce(Object(l.jsx)(R.a,{})),v.top="90%",se(t).then((function(e){return e.json()})).then((function(e){ce(Object(l.jsx)("pre",{children:e}))}))}()},disabled:!n.id,title:n.id?"":"you must first save the api",children:"Generate API"})}),Object(l.jsx)(c.a,{item:!0,xs:2,spacing:4,margin:5,className:s.actions,children:Object(l.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return x(!1)},children:"Close"})}),Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,className:s.logdata,children:ae})]})})})]})},be=function(e){var t=Object(o.b)(),n=t?t.connection_string:"";return"edit"!==e.mode&&"create"!==e.mode?(console.log(e),Object(l.jsx)(i.a,{children:n})):Object(l.jsx)(de,Object(f.a)({},e))},ue=function(e){var t=Object(o.b)();Object(p.c)();if(!t.id)return null;var n="/".concat(t.name,"/api");return Object(l.jsx)(i.a,{children:Object(l.jsx)("a",{href:n,children:n})})},Oe=function(e){var t=e.attribute;return Object(l.jsx)(r.a,{source:t.name,style:{color:"red"}},t.name)},me=function(e){var t,n,a=e.instance;return Object(l.jsxs)("div",{children:[" ",null===(t=a.attributes)||void 0===t?void 0:t.FirstName," ",null===(n=a.attributes)||void 0===n?void 0:n.LastName]})},xe=function(e){var t,n,a=e.instance;return Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("b",{children:null===(t=a.attributes)||void 0===t?void 0:t.CompanyName})," ",Object(l.jsx)("i",{children:null===(n=a.attributes)||void 0===n?void 0:n.ContactName})]})},he=function(e){return"list"===e.mode?Object(l.jsx)("span",{}):"edit"===e.mode?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(c.a,{item:!0,xs:12,spacing:4,margin:5,children:Object(l.jsx)(i.a,{variant:"h6",component:"h6",children:"Change Password"})}),Object(l.jsxs)(c.a,{item:!0,xs:4,spacing:4,margin:5,children:[Object(l.jsx)(s.a,{source:"_password"})," "]}),Object(l.jsxs)(c.a,{item:!0,xs:4,spacing:4,margin:5,children:[Object(l.jsx)(s.a,{source:"_password"})," "]}),Object(l.jsx)(c.a,{item:!0,xs:4,spacing:4,margin:5})]}):Object(l.jsx)(l.Fragment,{})},pe=function(e){var t=Object(o.b)();return console.log(t),Object(l.jsx)("div",{children:"Some Text"})}}}]);
//# sourceMappingURL=1.5b250ec0.chunk.js.map